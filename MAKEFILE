CC=cc68x
CFLAGS=-O -g
OBJS=main.o raster.o bitmaps.o font.o


main: $(OBJS)
	$(CC) $(OBJS) -o $@

.PHONY: test clean
test: raster.t btmaps.t
	raster.t
	btmaps.t
	@$(ECHO) Finished Running Tests.


clean:
	$(RM) *.o *.t main

unity.o:
	@$(ECHO) "unity.o often fails to compile without increasing the memory limit."
	@$(ECHO) "be advised, this might fail."

	cc68x -c lib\unity.c -o unity.o

# Test Template:
# <mod>.t: <mod test>.o unity.o
#	$(CC) $< unity.o -o $@
#	$@							# Run the test

raster.t: raster.o raster_t.o unity.o
	$(CC) $^ -o $@


btmaps.t: bitmaps.o btmaps_t.o unity.o
	$(CC) $^ -o $@



